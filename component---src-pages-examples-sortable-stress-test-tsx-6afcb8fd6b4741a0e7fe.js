(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{160:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(7),i=n.n(a),o=(n(76),n(48),n(168),n(49)),d=n.n(o),c=n(413),s=(n(34),n(164)),u="card",l={border:"1px dashed gray",padding:"0.5rem 1rem",marginBottom:".5rem",backgroundColor:"white",cursor:"move"},m=function(e){function t(){return e.apply(this,arguments)||this}return i()(t,e),t.prototype.render=function(){var e=this.props,t=e.text,n=e.isDragging,a=e.connectDragSource,i=e.connectDropTarget,o=n?0:1;return a&&i&&a(i(r.createElement("div",{style:Object.assign({},l,{opacity:o})},t)))},t}(r.Component),h=Object(s.DropTarget)(u,{hover:function(e,t){var n=t.getItem().id;n!==e.id&&e.moveCard(n,e.id)}},function(e){return{connectDropTarget:e.dropTarget()}})(Object(s.DragSource)(u,{beginDrag:function(e){return{id:e.id}}},function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}})(m)),p=n(167),g={width:400},f=function(e){function t(t){var n;(n=e.call(this,t)||this).moveCard=n.moveCard.bind(d()(d()(n))),n.drawFrame=n.drawFrame.bind(d()(d()(n)));for(var r={},a=[],i=0;i<1e3;i+=1){var o={id:i,text:c.name.findName()};r[o.id]=o,a[i]=o}return n.state={cardsById:r,cardsByIndex:a},n}i()(t,e);var n=t.prototype;return n.componentWillUnmount=function(){void 0!==this.requestedFrame&&cancelAnimationFrame(this.requestedFrame)},n.render=function(){var e=this,t=this.state.cardsByIndex;return r.createElement("div",{style:g},t.map(function(t){return r.createElement(h,{key:t.id,id:t.id,text:t.text,moveCard:e.moveCard})}))},n.scheduleUpdate=function(e){this.pendingUpdateFn=e,this.requestedFrame||(this.requestedFrame=requestAnimationFrame(this.drawFrame))},n.drawFrame=function(){var e=p(this.state,this.pendingUpdateFn);this.setState(e),this.pendingUpdateFn=void 0,this.requestedFrame=void 0},n.moveCard=function(e,t){var n=this.state,r=n.cardsById,a=n.cardsByIndex,i=r[e],o=r[t],d=a.indexOf(i),c=a.indexOf(o);this.scheduleUpdate({cardsByIndex:{$splice:[[d,1],[c,0,i]]}})},t}(r.Component),v=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={shouldRender:!1},n}i()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setState({shouldRender:!0})},n.render=function(){var e=this.state.shouldRender;return r.createElement("div",null,r.createElement("p",null,r.createElement("b",null,r.createElement("a",{href:"https://github.com/react-dnd/react-dnd/tree/master/packages/documentation/src/examples/04%20Sortable/Stress%20Test"},"Browse the Source"))),r.createElement("p",null,"How many items can React DnD handle at the same time? There are a thousand items in this list. With some optimizations like updating the state inside a ",r.createElement("code",null,"requestAnimationFrame")," callback, it can handle a few thousand items without lagging. After that, you're better off using virtual lists like"," ",r.createElement("a",{href:"https://github.com/facebook/fixed-data-table"},"fixed-data-table"),". Luckily, React DnD is designed to work great with any virtual React data list components because it doesn't keep any state in the DOM."),r.createElement("p",null,"This example does not scroll automatically but you can add the scrolling with a parent drop target that compares"," ",r.createElement("code",null,"component.getBoundingClientRect()")," with"," ",r.createElement("code",null,"monitor.getClientOffset()")," inside its ",r.createElement("code",null,"hover")," ","handler. In fact, you are welcome to contribute this functionality to this example!"),e&&r.createElement(f,null))},t}(r.Component),y=n(165);t.default=function(e){return r.createElement(y.a,e,r.createElement(v,null))}}}]);
//# sourceMappingURL=component---src-pages-examples-sortable-stress-test-tsx-6afcb8fd6b4741a0e7fe.js.map